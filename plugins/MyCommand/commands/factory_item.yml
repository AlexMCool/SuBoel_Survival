##############################################################################
#                            factory item change                             #
##############################################################################
factory_item_change:
  command: /factory_item_change
  type: RUN_AS_OPERATOR
  register: true
  runcmd:
  # arg1 = (factory_id)
  # arg2 = (factory_owner)
  # arg3 = (factory_level)
  # arg4 = (item_name)
  # arg5 = (damage_value)
  
  # set correct delay
  - '/mycommand:factory_item_delay_init $arg1 $arg2 $arg3 $arg4 $arg5'
  
  # set variables for factory
  - '$Script$%Variable%$s.factory.id.$arg1.item.damage=$arg5'
  - '$Script$%Variable%$s.factory.id.$arg1.item.name=$arg4'
  # manage cooldown
  - '/mycommand:factory_item_change_delay $arg1 $s.general.time'
  
  # "[Factory] The factory will now produce x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory will now produce"},{"bold":"false","color":"dark_aqua","text":" $s.translation.$arg4:$arg5"}]'
  
  
  
  
  
##############################################################################
#                            factory item change                             #
##############################################################################
factory_item_change_delay:
  command: /factory_item_change_delay
  type: RUN_AS_OPERATOR
  register: true
  runcmd:
  # arg1 = (factory_id)
  # arg2 = $s.general.time (for some reason just "$s.general.time" didn't work, but when it's in a arg value, it does)
  
  # manage cooldown
  - '$Script$%Variable%$s.factory.id.$arg1.item.min_time=$arg2'
  - '$Script$%Variable%$s.factory.id.$arg1.item.min_time+72000'