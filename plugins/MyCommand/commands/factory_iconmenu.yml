##############################################################################
#                                  factory                                   #
##############################################################################
factory:
  command: /factory
  type: RUN_AS_OPERATOR
  register: true
  runcmd:
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.53.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 53'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.52.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 52'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.51.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 51'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.50.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 50'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.49.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 49'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.48.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 48'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.47.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 47'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.46.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 46'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.45.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 45'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.44.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 44'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.43.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 43'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.42.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 42'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.41.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 41'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.40.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 40'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.39.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 39'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.38.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 38'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.37.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 37'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.36.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 36'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.35.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 35'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.34.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 34'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.33.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 33'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.32.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 32'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.31.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 31'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.30.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 30'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.29.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 29'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.28.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 28'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.27.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 27'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.26.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 26'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.25.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 25'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.24.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 24'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.23.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 23'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.22.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 22'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.21.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 21'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.20.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 20'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.19.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 19'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.18.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 18'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.17.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 17'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.16.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 16'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.15.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 15'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.14.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 14'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.13.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 13'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.12.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 12'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.11.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 11'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.10.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 10'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.9.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 9'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.8.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 8'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.7.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 7'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.6.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 6'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.5.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 5'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.4.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 4'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.3.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 3'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.2.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 2'
  
  - '$Script$%elseif%$PlayerData%$s.factory.factory_id.1.id%!=NoData'
  - '/mycommand:factory_iconmenu_init_id 1'
  
  - '$Script$%else%'
  - '/mycommand:factory_iconmenu_init_id 0'
  
  
  
  
##############################################################################
#                          factory iconmenu init id                          #
##############################################################################
factory_iconmenu_init_id:
  command: /factory_iconmenu_init_id
  type: RUN_AS_OPERATOR
  register: true
  runcmd:
  - '/mycommand:factory_iconmenu_$arg1 $PlayerData%$s.factory.factory_id.1.id% $PlayerData%$s.factory.factory_id.2.id% $PlayerData%$s.factory.factory_id.3.id% $PlayerData%$s.factory.factory_id.4.id% $PlayerData%$s.factory.factory_id.5.id% $PlayerData%$s.factory.factory_id.6.id% $PlayerData%$s.factory.factory_id.7.id% $PlayerData%$s.factory.factory_id.8.id% $PlayerData%$s.factory.factory_id.9.id% $PlayerData%$s.factory.factory_id.10.id% $PlayerData%$s.factory.factory_id.11.id% $PlayerData%$s.factory.factory_id.12.id% $PlayerData%$s.factory.factory_id.13.id% $PlayerData%$s.factory.factory_id.14.id% $PlayerData%$s.factory.factory_id.15.id% $PlayerData%$s.factory.factory_id.16.id% $PlayerData%$s.factory.factory_id.17.id% $PlayerData%$s.factory.factory_id.18.id% $PlayerData%$s.factory.factory_id.19.id% $PlayerData%$s.factory.factory_id.20.id% $PlayerData%$s.factory.factory_id.21.id% $PlayerData%$s.factory.factory_id.22.id% $PlayerData%$s.factory.factory_id.23.id% $PlayerData%$s.factory.factory_id.24.id% $PlayerData%$s.factory.factory_id.25.id% $PlayerData%$s.factory.factory_id.26.id% $PlayerData%$s.factory.factory_id.27.id% $PlayerData%$s.factory.factory_id.28.id% $PlayerData%$s.factory.factory_id.29.id% $PlayerData%$s.factory.factory_id.30.id% $PlayerData%$s.factory.factory_id.31.id% $PlayerData%$s.factory.factory_id.32.id% $PlayerData%$s.factory.factory_id.33.id% $PlayerData%$s.factory.factory_id.34.id% $PlayerData%$s.factory.factory_id.35.id% $PlayerData%$s.factory.factory_id.36.id% $PlayerData%$s.factory.factory_id.37.id% $PlayerData%$s.factory.factory_id.38.id% $PlayerData%$s.factory.factory_id.39.id% $PlayerData%$s.factory.factory_id.40.id% $PlayerData%$s.factory.factory_id.41.id% $PlayerData%$s.factory.factory_id.42.id% $PlayerData%$s.factory.factory_id.43.id% $PlayerData%$s.factory.factory_id.44.id% $PlayerData%$s.factory.factory_id.45.id% $PlayerData%$s.factory.factory_id.46.id% $PlayerData%$s.factory.factory_id.47.id% $PlayerData%$s.factory.factory_id.48.id% $PlayerData%$s.factory.factory_id.49.id% $PlayerData%$s.factory.factory_id.50.id% $PlayerData%$s.factory.factory_id.51.id% $PlayerData%$s.factory.factory_id.51.id% $PlayerData%$s.factory.factory_id.53.id% $PlayerData%$s.factory.factory_id.54.id% $PlayerData%$s.factory.factory_id.55.id%'

  
  
  
    
##############################################################################
#                         factory iconmenu checktype                         #
##############################################################################
factory_iconmenu_checktype:
  command: /factory_iconmenu_checktype
  type: RUN_AS_OPERATOR
  register: true
  runcmd:  
  #######################################
  #               create                #
  ####################################### 
  # arg1 = $s.factory.id.$arg1.tp.x 
  # arg2 = $s.factory.id.$arg1.tp.y 
  # arg3 = $s.factory.id.$arg1.tp.z 
  # arg4 = $s.factory.id.$arg1.next_level 
  # arg5 = $s.factory.id.$arg1.status 
  # arg6 = $s.factory.id.$arg1.x 
  # arg7 = $s.factory.id.$arg1.y
  # arg8 = $s.factory.id.$arg1.z 
  # arg9 = $PlayerData%$s.factory.factory_id.1.id%
  - '$Script$%if%$arg4==1'
  - '$delay$<2>/mycommand:factory_iconmenu_create_actions $multiargs'
  
  #######################################
  #               upgrade               #
  ####################################### 
  # arg1 = $s.factory.id.$arg1.tp.x 
  # arg2 = $s.factory.id.$arg1.tp.y 
  # arg3 = $s.factory.id.$arg1.tp.z 
  # arg4 = $s.factory.id.$arg1.next_level 
  # arg5 = $s.factory.id.$arg1.status 
  # arg6 = $s.factory.id.$arg1.x 
  # arg7 = $s.factory.id.$arg1.y
  # arg8 = $s.factory.id.$arg1.z 
  # arg9 = $PlayerData%$s.factory.factory_id.1.id%
  - '$Script$%if%$arg4>1<and>$arg4<32'
  - '$delay$<2>/mycommand:factory_iconmenu_upgrade_actions $multiargs'
  
  
  #######################################
  #             no upgrade              #
  ####################################### 
  # arg1 = $s.factory.id.$arg1.tp.x 
  # arg2 = $s.factory.id.$arg1.tp.y 
  # arg3 = $s.factory.id.$arg1.tp.z 
  # arg4 = $s.factory.id.$arg1.next_level 
  # arg5 = $s.factory.id.$arg1.status 
  # arg6 = $s.factory.id.$arg1.x 
  # arg7 = $s.factory.id.$arg1.y
  # arg8 = $s.factory.id.$arg1.z 
  # arg9 = $PlayerData%$s.factory.factory_id.1.id%
  - '$Script$%if%$arg4==32'
  - '$delay$<2>/mycommand:factory_iconmenu_noupgrade_actions $multiargs'
