##############################################################################
#                         factory player calculation                         #
##############################################################################
factory_player_calculation:
  command: /factory_player_calculation
  type: RUN_AS_OPERATOR
  register: true
  runcmd:
  #######################################
  #            id available             #
  #######################################
  # arg1 = $s.init.factory.calculation
  # arg2 = $player
  # arg3 = $s.init.factory.player_factory_id
  - '$Script$%if%$PlayerDataFor%$arg2%$s.factory.factory_id.$arg3.id%==NoData'
  
  # set player's player_factory_id to corresponding factory id
  - '$Script$%PlayerDataFor%$arg2%$s.factory.factory_id.$arg3.id=$arg1'
  
  #######################################
  #           id unavailable            #
  #######################################
  # arg1 = $s.init.factory.calculation
  # arg2 = $player
  # arg3 = $s.init.factory.player_factory_id
  - '$Script$%else%'
  
  # add '1' to calculation
  - '$Script$%Variable%$s.init.factory.player_factory_id+1'
  
  # recur
  - '/mycommand:factory_player_calculation $s.init.factory.calculation $player $s.init.factory.player_factory_id $PlayerData%$s.factory.factory_id.$arg3.id'
  
  
  
  
  
###############################################################################
##                            factory player list                             #
###############################################################################
#factory_player_list:
#  command: /factory_player_list
#  type: RUN_AS_OPERATOR
#  register: true
#  runcmd:
#  - '$Script$%if%$PlayerData%$s.factory.factory_id.$arg1.id%==NoData'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":"<"},{"bold":"true","color":"aqua","strikethrough":"true","text":"---------------"},{"bold":"true","color":"dark_aqua","text":">"}]'
#  
#  - '$Script$%else%'
#  - '/mycommand:factory_player_list_info $PlayerData%$s.factory.factory_id.$arg1.id% $arg1'
#  - '$Script$%Variable%$s.init.factory.list=$arg1'
#  - '$Script$%Variable%$s.init.factory.list+1'
#  - '/mycommand:factory_player_list $s.init.factory.list'
#  
#  
#  
#  
#  
###############################################################################
##                          factory player list info                          #
###############################################################################
#factory_player_list_info:
#  command: /factory_player_list_info
#  type: RUN_AS_OPERATOR
#  register: true
#  runcmd:
#  # arg1 = $PlayerData%$s.factory.factory_id.$arg1.id%
#  # arg1 = 1 / 2 / 3 / ...
#  
#  - '$Script$%if%$arg1==1'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":"<"},{"bold":"true","color":"aqua","strikethrough":"true","text":"----"},{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"true","color":"aqua","strikethrough":"true","text":"----"},{"bold":"true","color":"dark_aqua","text":">"}]'
#  - '/minecraft:tellraw @s [{"color":"gray","text":"You own these factories:"}]'
#  
#  - '$Script$%if%always==always'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":"<"},{"bold":"true","color":"aqua","strikethrough":"true","text":"--"},{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"$arg2"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"true","color":"aqua","strikethrough":"true","text":"--"},{"bold":"true","color":"dark_aqua","text":">"}]'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":">"},{"bold":"false","color":"gray","text":" Facing: "},{"bold":"false","color":"dark_aqua","text":"$s.factory.id.$arg1.status"}]'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":">"},{"bold":"false","color":"gray","text":" Location: "},{"bold":"false","color":"dark_aqua","text":"$s.factory.id.$arg1.x $s.factory.id.$arg1.y $s.factory.id.$arg1.z"}]'
#  - '/minecraft:tellraw @s [{"bold":"true","color":"dark_aqua","text":">"},{"bold":"false","color":"gray","text":" Name: "},{"bold":"false","color":"dark_aqua","text":"$player $s.factory.id.$arg1.board.word"}]'
#  - '/minecraft:tellraw @s [{"text":""}]'