##############################################################################
#                              factory upgrade                               #
##############################################################################
factory_upgrade:
  command: /factory_upgrade
  execute_mode: FROM_ANOTHER_COMMAND
  permission-required: false
  register: true
  type: RUN_AS_OPERATOR
  runcmd:
  # store origin
  - '$Script$%PlayerData%$s.init.location.x=$locX'
  - '$Script$%PlayerData%$s.init.location.y=$locY'
  - '$Script$%PlayerData%$s.init.location.z=$locZ'
  - '$Script$%PlayerData%$s.init.location.rotation.yaw=$loc_yaw'
  - '$Script$%PlayerData%$s.init.location.rotation.pitch=$loc_pitch'
  - '$Script$%PlayerData%$s.init.location.world=$world'
  
  # tp to factory (upgrade) location
  - '/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  
  # restistance for falling down
  - '/minecraft:effect $player minecraft:resistance 1000000 255 true'
  
  # add 1 to variables
  - '$Script$%Variable%$s.factory.id.$arg6.level.next+1'
  - '$Script$%Variable%$s.factory.id.$arg6.level.current+1'
  
  #######################################
  #                east                 #
  ####################################### 
  # arg1 = east
  # arg2 = 1 / 2 / 3 / ... / 30 / 31 / 32
  # arg3 = $s.factory.id.x.location.x
  # arg4 = $s.factory.id.x.location.y
  # arg5 = $s.factory.id.x.location.z
  # arg6 = $PlayerData%$s.factory.factory_id.x.id
  
  # 1
  - '$Script$%if%$arg1==east<and>$arg2==1'
  # set structure_block with structure
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/1",posX:20,posY:-20,posZ:-7,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # set structure_block with structure
  - '/minecraft:setblock ~ 0 ~ minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/location_advancement/east",posX:-1,posY:0,posZ:-1,powered:0b,rotation:"NONE",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~ 1 ~ minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~ 0 ~ ~ 1 ~ minecraft:bedrock default'
  # keep chunk
  - '/minecraft:tp ~48 ~ ~16'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~5 ~3.5 ~1 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder0"]}'
  # summon area_effect_cloud (item_delay)
  - '/minecraft:summon minecraft:area_effect_cloud ~5 ~3.5 ~1 {Age:-2147483648,CustomName:"sfItemDelay",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sf$uuid"]}'
  # set command block to summon item
  - '/minecraft:setblock ~5 0 ~1 minecraft:command_block facing=up replace {auto:0b,Command:"/mycommand:factory_item_spawn $arg6",powered:0b}'
  - '/minecraft:tp ~-48 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully created"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" created"}]'
  # check factory count, and grant advancement if necessary
  - '/mycommand:advancements_factorycount'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/its_a_boy'
 
  # 2
  - '$Script$%if%$arg1==east<and>$arg2==2'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/2",posX:23,posY:-17,posZ:-10,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/light_up_my_world'
  
  # 3
  - '$Script$%if%$arg1==east<and>$arg2==3'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/3",posX:19,posY:-19,posZ:-5,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_build_a_wall'
  
  # 4
  - '$Script$%if%$arg1==east<and>$arg2==4'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/4",posX:32,posY:-16,posZ:-16,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # board
  - '/mycommand:factory_board_create $arg1 small'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/sign_of_greatness'
  
  # 5
  - '$Script$%if%$arg1==east<and>$arg2==5'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/5",posX:19,posY:-19,posZ:13,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 6
  - '$Script$%if%$arg1==east<and>$arg2==6'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/6",posX:-5,posY:-20,posZ:-18,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 7
  - '$Script$%if%$arg1==east<and>$arg2==7'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/7",posX:-1,posY:-19,posZ:-22,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 8
  - '$Script$%if%$arg1==east<and>$arg2==8'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/8",posX:-5,posY:-32,posZ:-18,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/unlock_the_doors'
 
  # 9
  - '$Script$%if%$arg1==east<and>$arg2==9'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/9",posX:-13,posY:-19,posZ:14,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # set new tp location
  - '/mycommand:factory_tp_location east $s.factory.id.$arg6.tp.z $arg6'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 10
  - '$Script$%if%$arg1==east<and>$arg2==10'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/10",posX:-13,posY:-17,posZ:14,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 11
  - '$Script$%if%$arg1==east<and>$arg2==11'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/11",posX:-9,posY:-18,posZ:7,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # lights
  - '/minecraft:tp ~32 ~ ~'
  - '/minecraft:blockdata ~1 ~1 ~2 {Command:"minecraft:function suboel:factory/lights/bottom/east_on"}'
  - '/minecraft:tp ~-48 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 12
  - '$Script$%if%$arg1==east<and>$arg2==12'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/12",posX:-7,posY:-17,posZ:9,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 13
  - '$Script$%if%$arg1==east<and>$arg2==13'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/13",posX:-7,posY:-17,posZ:11,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 14
  - '$Script$%if%$arg1==east<and>$arg2==14'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/14",posX:-8,posY:-17,posZ:11,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 15
  - '$Script$%if%$arg1==east<and>$arg2==15'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/15",posX:-32,posY:-19,posZ:32,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/lead_the_way'
 
  # 16
  - '$Script$%if%$arg1==east<and>$arg2==16'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/16",posX:-9,posY:-19,posZ:25,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~8 ~12 ~7 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~8 ~13 ~7 minecraft:redstone_block default'
  - '/minecraft:fill ~8 ~12 ~7 ~8 ~13 ~7 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~8 ~12 ~7 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~-48 ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 17
  - '$Script$%if%$arg1==east<and>$arg2==17'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/17",posX:-28,posY:-20,posZ:30,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~-16 ~ ~16'
  - '/minecraft:setblock ~5 ~12 ~7 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~5 ~13 ~7 minecraft:redstone_block default'
  - '/minecraft:fill ~5 ~12 ~7 ~5 ~13 ~7 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~5 ~12 ~7 minecraft:cobblestone_wall default'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~16 ~ ~'
  - '/minecraft:setblock ~3 ~12 ~7 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~3 ~13 ~7 minecraft:redstone_block default'
  - '/minecraft:fill ~3 ~12 ~7 ~3 ~13 ~7 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~3 ~12 ~7 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~-16 ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 18
  - '$Script$%if%$arg1==east<and>$arg2==18'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/18",posX:-30,posY:-20,posZ:30,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  # only replace redstone_block
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 19
  - '$Script$%if%$arg1==east<and>$arg2==19'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~22 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/19",posX:-30,posY:-23,posZ:30,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~21 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~21 ~2 ~13 ~22 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_go_higher'
 
  # 20
  - '$Script$%if%$arg1==east<and>$arg2==20'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/20",posX:0,posY:-17,posZ:-9,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # keep chunk
  - '/minecraft:tp ~16 ~ ~-16'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~10 ~17.5 ~4 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder1"]}'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 21
  - '$Script$%if%$arg1==east<and>$arg2==21'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/21",posX:-32,posY:-20,posZ:13,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/no_parking_in_handicapped_spots'
 
  # 22
  - '$Script$%if%$arg1==east<and>$arg2==22'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/22",posX:4,posY:-15,posZ:-3,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 23
  - '$Script$%if%$arg1==east<and>$arg2==23'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/23",posX:-12,posY:-15,posZ:11,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # lights
  - '/minecraft:tp ~ ~ ~-16'
  - '/minecraft:blockdata ~1 ~13 ~12 {Command:"minecraft:function suboel:factory/lights/top/east_on"}'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_on_the_naughty_list'
 
  # 24
  - '$Script$%if%$arg1==east<and>$arg2==24'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/24",posX:4,posY:-15,posZ:-3,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 25
  - '$Script$%if%$arg1==east<and>$arg2==25'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/25",posX:-15,posY:-19,posZ:7,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 26
  - '$Script$%if%$arg1==east<and>$arg2==26'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_first",posX:-12,posY:-22,posZ:-7,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_second",posX:-6,posY:-6,posZ:-14,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_third",posX:-7,posY:-10,posZ:-11,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/too_lazy_to_walk'
 
  # 27
  - '$Script$%if%$arg1==east<and>$arg2==27'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/27",posX:4,posY:-13,posZ:-9,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  # replace rails
  - '/minecraft:tp ~16 ~ ~-16'
  - '/minecraft:setblock ~10 ~19 ~4 minecraft:rail shape=east_west'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~4 ~17.5 ~4 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder2"]}'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 28
  - '$Script$%if%$arg1==east<and>$arg2==28'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/28",posX:-32,posY:-19,posZ:32,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/keep_the_mexicans_out'
 
  # 29
  - '$Script$%if%$arg1==east<and>$arg2==29'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/29",posX:-15,posY:-13,posZ:-5,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/save_yourself'
 
  # 30
  - '$Script$%if%$arg1==east<and>$arg2==30'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/30",posX:4,posY:-13,posZ:-3,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 31
  - '$Script$%if%$arg1==east<and>$arg2==31'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/31",posX:-10,posY:-13,posZ:-2,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_off_the_naughty_list'
 
  # 32
  - '$Script$%if%$arg1==east<and>$arg2==32'
  - '/minecraft:tp ~16 ~ ~32'
  - '/minecraft:setblock ~13 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/32",posX:5,posY:-13,posZ:-1,powered:0b,rotation:"COUNTERCLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~2 ~13 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-32'
  # board
  - '/mycommand:factory_board_create $arg1 big'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/they_grow_so_fast'
  
  #######################################
  #                north                #
  ####################################### 
  # arg1 = north
  # arg2 = 1 / 2 / 3 / ... / 30 / 31 / 32
  # arg3 = $s.factory.id.x.location.x
  # arg4 = $s.factory.id.x.location.y
  # arg5 = $s.factory.id.x.location.z
  # arg6 = $PlayerData%$s.factory.factory_id.x.id
  
  # 1
  - '$Script$%if%$arg1==north<and>$arg2==1'
  # set structure_block with structure
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/1",posX:-7,posY:-20,posZ:-20,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # set structure_block with structure
  - '/minecraft:setblock ~ 0 ~ minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/location_advancement/north",posX:-1,posY:0,posZ:-1,powered:0b,rotation:"NONE",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~ 1 ~ minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~ 0 ~ ~ 1 ~ minecraft:bedrock default'
  # keep chunk
  - '/minecraft:tp ~16 ~ ~'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~1 ~3.5 ~10 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder0"]}'
  # summon area_effect_cloud (item_delay)
  - '/minecraft:summon minecraft:area_effect_cloud ~1 ~3.5 ~10 {Age:-2147483648,CustomName:"sfItemDelay",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sf$uuid"]}'
  # set command block to summon item
  - '/minecraft:setblock ~1 0 ~10 minecraft:command_block facing=up replace {auto:0b,Command:"/mycommand:factory_item_spawn $arg6",powered:0b}'
  - '/minecraft:tp ~-16 ~ ~'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully created"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" created"}]'
  # check factory count, and grant advancement if necessary
  - '/mycommand:advancements_factorycount'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/its_a_boy'
 
  # 2
  - '$Script$%if%$arg1==north<and>$arg2==2'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/2",posX:-10,posY:-17,posZ:-23,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/light_up_my_world'
  
  # 3
  - '$Script$%if%$arg1==north<and>$arg2==3'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/3",posX:-5,posY:-19,posZ:-19,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_build_a_wall'
  
  # 4
  - '$Script$%if%$arg1==north<and>$arg2==4'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/4",posX:-16,posY:-16,posZ:-32,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # board
  - '/mycommand:factory_board_create $arg1 small'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/sign_of_greatness'
  
  # 5
  - '$Script$%if%$arg1==north<and>$arg2==5'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/5",posX:13,posY:-19,posZ:-19,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 6
  - '$Script$%if%$arg1==north<and>$arg2==6'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/6",posX:-18,posY:-20,posZ:5,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 7
  - '$Script$%if%$arg1==north<and>$arg2==7'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/7",posX:-22,posY:-19,posZ:1,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 8
  - '$Script$%if%$arg1==north<and>$arg2==8'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/8",posX:-18,posY:-32,posZ:5,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/unlock_the_doors'
 
  # 9
  - '$Script$%if%$arg1==north<and>$arg2==9'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/9",posX:14,posY:-19,posZ:13,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # set new tp location
  - '/mycommand:factory_tp_location north $s.factory.id.$arg6.tp.x $arg6'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 10
  - '$Script$%if%$arg1==north<and>$arg2==10'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/10",posX:14,posY:-17,posZ:13,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 11
  - '$Script$%if%$arg1==north<and>$arg2==11'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/11",posX:7,posY:-18,posZ:9,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # lights
  - '/minecraft:tp ~ ~ ~-32'
  - '/minecraft:blockdata ~2 ~1 ~14 {Command:"minecraft:function suboel:factory/lights/bottom/north_on"}'
  - '/minecraft:tp ~-32 ~ ~'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 12
  - '$Script$%if%$arg1==north<and>$arg2==12'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/12",posX:9,posY:-17,posZ:7,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 13
  - '$Script$%if%$arg1==north<and>$arg2==13'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/13",posX:11,posY:-17,posZ:7,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 14
  - '$Script$%if%$arg1==north<and>$arg2==14'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/14",posX:11,posY:-17,posZ:8,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 15
  - '$Script$%if%$arg1==north<and>$arg2==15'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/15",posX:32,posY:-19,posZ:32,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/lead_the_way'
 
  # 16
  - '$Script$%if%$arg1==north<and>$arg2==16'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/16",posX:25,posY:-19,posZ:9,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~16 ~ ~-32'
  - '/minecraft:setblock ~7 ~12 ~5 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~7 ~13 ~5 minecraft:redstone_block default'
  - '/minecraft:fill ~7 ~12 ~5 ~7 ~13 ~5 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~7 ~12 ~5 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~-48 ~ ~'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 17
  - '$Script$%if%$arg1==north<and>$arg2==17'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/17",posX:30,posY:-20,posZ:28,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~16 ~ ~'
  - '/minecraft:setblock ~7 ~12 ~10 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~7 ~13 ~10 minecraft:redstone_block default'
  - '/minecraft:fill ~7 ~12 ~10 ~7 ~13 ~10 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~7 ~12 ~10 minecraft:cobblestone_wall default'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~ ~ ~16'
  - '/minecraft:setblock ~7 ~12 ~8 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~7 ~13 ~8 minecraft:redstone_block default'
  - '/minecraft:fill ~7 ~12 ~8 ~7 ~13 ~8 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~7 ~12 ~8 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~-48 ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 18
  - '$Script$%if%$arg1==north<and>$arg2==18'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/18",posX:30,posY:-20,posZ:30,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  # only replace redstone_block
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 19
  - '$Script$%if%$arg1==north<and>$arg2==19'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/19",posX:30,posY:-20,posZ:30,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_go_higher'
 
  # 20
  - '$Script$%if%$arg1==north<and>$arg2==20'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/20",posX:-9,posY:-17,posZ:0,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # keep chunk
  - '/minecraft:tp ~-16 ~ ~-16'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~4 ~17.5 ~5 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder1"]}'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 21
  - '$Script$%if%$arg1==north<and>$arg2==21'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/21",posX:13,posY:-20,posZ:32,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/no_parking_in_handicapped_spots'
 
  # 22
  - '$Script$%if%$arg1==north<and>$arg2==22'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/22",posX:-3,posY:-15,posZ:-4,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 23
  - '$Script$%if%$arg1==north<and>$arg2==23'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/23",posX:11,posY:-15,posZ:12,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # lights
  - '/minecraft:tp ~-16 ~ ~'
  - '/minecraft:blockdata ~12 ~13 ~14 {Command:"minecraft:function suboel:factory/lights/top/north_on"}'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_on_the_naughty_list'
 
  # 24
  - '$Script$%if%$arg1==north<and>$arg2==24'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/24",posX:-3,posY:-15,posZ:-4,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 25
  - '$Script$%if%$arg1==north<and>$arg2==25'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/25",posX:7,posY:-19,posZ:15,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 26
  - '$Script$%if%$arg1==north<and>$arg2==26'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_first",posX:-7,posY:-22,posZ:12,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_second",posX:-14,posY:-6,posZ:6,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_third",posX:-11,posY:-10,posZ:7,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/too_lazy_to_walk'
 
  # 27
  - '$Script$%if%$arg1==north<and>$arg2==27'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/27",posX:-9,posY:-13,posZ:-4,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  # replace rails
  - '/minecraft:tp ~-16 ~ ~-16'
  - '/minecraft:setblock ~4 ~19 ~5 minecraft:rail shape=north_south'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~4 ~17.5 ~11 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder2"]}'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 28
  - '$Script$%if%$arg1==north<and>$arg2==28'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/28",posX:32,posY:-19,posZ:32,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/keep_the_mexicans_out'
 
  # 29
  - '$Script$%if%$arg1==north<and>$arg2==29'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/29",posX:-5,posY:-13,posZ:15,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/save_yourself'
 
  # 30
  - '$Script$%if%$arg1==north<and>$arg2==30'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/30",posX:-3,posY:-13,posZ:-4,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 31
  - '$Script$%if%$arg1==north<and>$arg2==31'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/31",posX:-2,posY:-13,posZ:10,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_off_the_naughty_list'
 
  # 32
  - '$Script$%if%$arg1==north<and>$arg2==32'
  - '/minecraft:tp ~32 ~ ~32'
  - '/minecraft:setblock ~2 ~19 ~2 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/32",posX:-1,posY:-13,posZ:-5,powered:0b,rotation:"CLOCKWISE_180",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~2 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~2 ~2 ~19 ~2 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-32'
  # board
  - '/mycommand:factory_board_create $arg1 big'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/they_grow_so_fast'
  
  #######################################
  #                south                #
  ####################################### 
  # arg1 = south
  # arg2 = 1 / 2 / 3 / ... / 30 / 31 / 32
  # arg3 = $s.factory.id.x.location.x
  # arg4 = $s.factory.id.x.location.y
  # arg5 = $s.factory.id.x.location.z
  # arg6 = $PlayerData%$s.factory.factory_id.x.id
  
  # 1
  - '$Script$%if%$arg1==south<and>$arg2==1'
  # set structure_block with structure
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/1",posX:7,posY:-20,posZ:20,powered:0b,rotation:"NONE",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # set structure_block with structure
  - '/minecraft:setblock ~ 0 ~ minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/location_advancement/south",posX:-1,posY:0,posZ:-1,powered:0b,rotation:"NONE",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~ 1 ~ minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~ 0 ~ ~ 1 ~ minecraft:bedrock default'
  # keep chunk
  - '/minecraft:tp ~32 ~ ~48'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~14 ~3.5 ~5 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder0"]}'
  # summon area_effect_cloud (item_delay)
  - '/minecraft:summon minecraft:area_effect_cloud ~14 ~3.5 ~5 {Age:-2147483648,CustomName:"sfItemDelay",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sf$uuid"]}'
  # set command block to summon item
  - '/minecraft:setblock ~14 0 ~5 minecraft:command_block facing=up replace {auto:0b,Command:"/mycommand:factory_item_spawn $arg6",powered:0b}'
  - '/minecraft:tp ~-32 ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully created"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" created"}]'
  # check factory count, and grant advancement if necessary
  - '/mycommand:advancements_factorycount'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/its_a_boy'
 
  # 2
  - '$Script$%if%$arg1==south<and>$arg2==2'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/2",posX:10,posY:-17,posZ:23,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/light_up_my_world'
  
  # 3
  - '$Script$%if%$arg1==south<and>$arg2==3'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/3",posX:5,posY:-19,posZ:19,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_build_a_wall'
  
  # 4
  - '$Script$%if%$arg1==south<and>$arg2==4'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/4",posX:16,posY:-16,posZ:32,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # board
  - '/mycommand:factory_board_create $arg1 small'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/sign_of_greatness'
  
  # 5
  - '$Script$%if%$arg1==south<and>$arg2==5'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/5",posX:-13,posY:-19,posZ:19,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 6
  - '$Script$%if%$arg1==south<and>$arg2==6'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/6",posX:18,posY:-20,posZ:-5,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 7
  - '$Script$%if%$arg1==south<and>$arg2==7'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/7",posX:22,posY:-19,posZ:-1,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 8
  - '$Script$%if%$arg1==south<and>$arg2==8'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/8",posX:18,posY:-32,posZ:-5,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/unlock_the_doors'
 
  # 9
  - '$Script$%if%$arg1==south<and>$arg2==9'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/9",posX:-14,posY:-19,posZ:-13,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # set new tp location
  - '/mycommand:factory_tp_location south $s.factory.id.$arg6.tp.x $arg6'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 10
  - '$Script$%if%$arg1==south<and>$arg2==10'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/10",posX:-14,posY:-17,posZ:-13,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 11
  - '$Script$%if%$arg1==south<and>$arg2==11'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/11",posX:-7,posY:-18,posZ:-9,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  # lights
  - '/minecraft:tp ~ ~ ~32'
  - '/minecraft:blockdata ~13 ~1 ~1 {Command:"minecraft:function suboel:factory/lights/bottom/south_on"}'
  - '/minecraft:tp ~-16 ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 12
  - '$Script$%if%$arg1==south<and>$arg2==12'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/12",posX:-9,posY:-17,posZ:-7,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 13
  - '$Script$%if%$arg1==south<and>$arg2==13'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/13",posX:-11,posY:-17,posZ:-7,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 14
  - '$Script$%if%$arg1==south<and>$arg2==14'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/14",posX:-11,posY:-17,posZ:-8,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 15
  - '$Script$%if%$arg1==south<and>$arg2==15'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/15",posX:-32,posY:-19,posZ:-32,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/lead_the_way'
 
  # 16
  - '$Script$%if%$arg1==south<and>$arg2==16'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/16",posX:-25,posY:-19,posZ:-9,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~-16 ~ ~32'
  - '/minecraft:setblock ~6 ~12 ~8 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~6 ~13 ~8 minecraft:redstone_block default'
  - '/minecraft:fill ~6 ~12 ~8 ~6 ~13 ~8 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~6 ~12 ~8 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~ ~ ~-48'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 17
  - '$Script$%if%$arg1==south<and>$arg2==17'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/17",posX:-30,posY:-20,posZ:-28,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:setblock ~6 ~12 ~5 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~6 ~13 ~5 minecraft:redstone_block default'
  - '/minecraft:fill ~6 ~12 ~5 ~6 ~13 ~5 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~6 ~12 ~5 minecraft:cobblestone_wall default'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~ ~ ~16'
  - '/minecraft:setblock ~6 ~12 ~3 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~6 ~13 ~3 minecraft:redstone_block default'
  - '/minecraft:fill ~6 ~12 ~3 ~6 ~13 ~3 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~6 ~12 ~3 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~ ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 18
  - '$Script$%if%$arg1==south<and>$arg2==18'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/18",posX:-30,posY:-20,posZ:-30,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  # only replace redstone_block
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 19
  - '$Script$%if%$arg1==south<and>$arg2==19'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/19",posX:-30,posY:-20,posZ:-30,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_go_higher'
 
  # 20
  - '$Script$%if%$arg1==south<and>$arg2==20'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/20",posX:9,posY:-17,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  # keep chunk
  - '/minecraft:tp ~16 ~ ~16'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~11 ~17.5 ~10 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder1"]}'
  - '/minecraft:tp ~-32 ~-32'  
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 21
  - '$Script$%if%$arg1==south<and>$arg2==21'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/21",posX:-13,posY:-20,posZ:-32,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/no_parking_in_handicapped_spots'
 
  # 22
  - '$Script$%if%$arg1==south<and>$arg2==22'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/22",posX:3,posY:-15,posZ:4,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 23
  - '$Script$%if%$arg1==south<and>$arg2==23'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/23",posX:-11,posY:-15,posZ:-12,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  # lights
  - '/minecraft:tp ~16 ~ ~'
  - '/minecraft:blockdata ~3 ~13 ~1 {Command:"minecraft:function suboel:factory/lights/top/south_on"}'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_on_the_naughty_list'
 
  # 24
  - '$Script$%if%$arg1==south<and>$arg2==24'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/24",posX:3,posY:-15,posZ:4,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 25
  - '$Script$%if%$arg1==south<and>$arg2==25'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/25",posX:-7,posY:-19,posZ:-15,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 26
  - '$Script$%if%$arg1==south<and>$arg2==26'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_first",posX:7,posY:-22,posZ:-12,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_second",posX:14,posY:-6,posZ:-6,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_third",posX:11,posY:-10,posZ:-7,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/too_lazy_to_walk'
 
  # 27
  - '$Script$%if%$arg1==south<and>$arg2==27'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/27",posX:9,posY:-13,posZ:4,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  # replace rails
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~11 ~19 ~10 minecraft:rail shape=north_south'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~11 ~17.5 ~4 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder2"]}'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 28
  - '$Script$%if%$arg1==south<and>$arg2==28'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/28",posX:-32,posY:-19,posZ:-32,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/keep_the_mexicans_out'
 
  # 29
  - '$Script$%if%$arg1==south<and>$arg2==29'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/29",posX:5,posY:-13,posZ:-15,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/save_yourself'
 
  # 30
  - '$Script$%if%$arg1==south<and>$arg2==30'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/30",posX:3,posY:-13,posZ:4,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 31
  - '$Script$%if%$arg1==south<and>$arg2==31'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/31",posX:2,posY:-13,posZ:-10,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_off_the_naughty_list'
 
  # 32
  - '$Script$%if%$arg1==south<and>$arg2==32'
  - '/minecraft:tp ~16 ~ ~16'
  - '/minecraft:setblock ~13 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/32",posX:1,posY:-13,posZ:5,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~13 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~13 ~18 ~13 ~13 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-16 ~ ~-16'
  # board
  - '/mycommand:factory_board_create $arg1 big'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/they_grow_so_fast'
  
  #######################################
  #                west                 #
  ####################################### 
  # arg1 = west
  # arg2 = 1 / 2 / 3 / ... / 30 / 31 / 32
  # arg3 = $s.factory.id.x.location.x
  # arg4 = $s.factory.id.x.location.y
  # arg5 = $s.factory.id.x.location.z
  # arg6 = $PlayerData%$s.factory.factory_id.x.id
  
  # 1
  - '$Script$%if%$arg1==west<and>$arg2==1'
  # set structure_block with structure
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/1",posX:-20,posY:-20,posZ:7,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # set structure_block with structure
  - '/minecraft:setblock ~ 0 ~ minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/location_advancement/west",posX:-1,posY:0,posZ:-1,powered:0b,rotation:"NONE",showboundingbox:0b}'
  # activate structure_block
  - '/minecraft:setblock ~ 1 ~ minecraft:redstone_block default'
  # remove structure_block and redstone_block
  - '/minecraft:fill ~ 0 ~ ~ 1 ~ minecraft:bedrock default'
  # keep chunk
  - '/minecraft:tp ~ ~ ~32'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~10 ~3.5 ~14 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder0"]}'
  # summon area_effect_cloud (item_delay)
  - '/minecraft:summon minecraft:area_effect_cloud ~10 ~3.5 ~14 {Age:-2147483648,CustomName:"sfItemDelay",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sf$uuid"]}'
  # set command block to summon item
  - '/minecraft:setblock ~10 0 ~14 minecraft:command_block facing=up replace {auto:0b,Command:"/mycommand:factory_item_spawn $arg6",powered:0b}'
  - '/minecraft:tp ~ ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully created"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" created"}]'
  # check factory count, and grant advancement if necessary
  - '/mycommand:advancements_factorycount'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/its_a_boy'
 
  # 2
  - '$Script$%if%$arg1==west<and>$arg2==2'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/2",posX:-23,posY:-17,posZ:10,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/light_up_my_world'
  
  # 3
  - '$Script$%if%$arg1==west<and>$arg2==3'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/3",posX:-19,posY:-19,posZ:5,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_build_a_wall'
  
  # 4
  - '$Script$%if%$arg1==west<and>$arg2==4'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/4",posX:-32,posY:-16,posZ:16,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # board
  - '/mycommand:factory_board_create $arg1 small'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/sign_of_greatness'
  
  # 5
  - '$Script$%if%$arg1==west<and>$arg2==5'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/5",posX:-19,posY:-19,posZ:-13,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 6
  - '$Script$%if%$arg1==west<and>$arg2==6'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/6",posX:5,posY:-20,posZ:18,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 7
  - '$Script$%if%$arg1==west<and>$arg2==7'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/7",posX:1,posY:-19,posZ:22,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 8
  - '$Script$%if%$arg1==west<and>$arg2==8'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/8",posX:5,posY:-32,posZ:18,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/unlock_the_doors'
 
  # 9
  - '$Script$%if%$arg1==west<and>$arg2==9'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/9",posX:13,posY:-19,posZ:-14,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # set new tp location
  - '/mycommand:factory_tp_location west $s.factory.id.$arg6.tp.z $arg6'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 10
  - '$Script$%if%$arg1==west<and>$arg2==10'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/10",posX:13,posY:-17,posZ:-14,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 11
  - '$Script$%if%$arg1==west<and>$arg2==11'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/11",posX:9,posY:-18,posZ:-7,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  # lights
  - '/minecraft:tp ~-32 ~ ~'
  - '/minecraft:blockdata ~14 ~1 ~13 {Command:"minecraft:function suboel:factory/lights/bottom/west_on"}'
  - '/minecraft:tp ~ ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 12
  - '$Script$%if%$arg1==west<and>$arg2==12'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/12",posX:7,posY:-17,posZ:-9,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 13
  - '$Script$%if%$arg1==west<and>$arg2==13'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/13",posX:7,posY:-17,posZ:-11,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 14
  - '$Script$%if%$arg1==west<and>$arg2==14'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/14",posX:8,posY:-17,posZ:-11,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 15
  - '$Script$%if%$arg1==west<and>$arg2==15'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/15",posX:32,posY:-19,posZ:-32,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/lead_the_way'
 
  # 16
  - '$Script$%if%$arg1==west<and>$arg2==16'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/16",posX:9,posY:-19,posZ:-25,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:setblock ~5 ~12 ~6 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~5 ~13 ~6 minecraft:redstone_block default'
  - '/minecraft:fill ~5 ~12 ~6 ~5 ~13 ~6 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~5 ~12 ~6 minecraft:cobblestone_wall default'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 17
  - '$Script$%if%$arg1==west<and>$arg2==17'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/17",posX:28,posY:-20,posZ:-30,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~ ~ ~-16'
  - '/minecraft:setblock ~10 ~12 ~6 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~10 ~13 ~6 minecraft:redstone_block default'
  - '/minecraft:fill ~10 ~12 ~6 ~10 ~13 ~6 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~10 ~12 ~6 minecraft:cobblestone_wall default'
  # oven smoke (replace cobblestone wall because the integrity is 0,5, so the wall would only spawn 50% of the time)
  - '/minecraft:tp ~16 ~ ~'
  - '/minecraft:setblock ~8 ~12 ~6 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:0.5f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/smoke",posX:0,posY:0,posZ:0,powered:0b,rotation:"NONE",showboundingbox:0b}'
  - '/minecraft:setblock ~8 ~13 ~6 minecraft:redstone_block default'
  - '/minecraft:fill ~8 ~12 ~6 ~8 ~13 ~6 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:setblock ~8 ~12 ~6 minecraft:cobblestone_wall default'
  - '/minecraft:tp ~-48 ~ ~'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 18
  - '$Script$%if%$arg1==west<and>$arg2==18'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/18",posX:30,posY:-20,posZ:-30,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  # only replace redstone_block
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air default replace minecraft:redstone_block'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  
  # 19
  - '$Script$%if%$arg1==west<and>$arg2==19'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/19",posX:30,posY:-20,posZ:-30,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/we_need_to_go_higher'
 
  # 20
  - '$Script$%if%$arg1==west<and>$arg2==20'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/20",posX:0,posY:-17,posZ:9,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  # keep chunk
  - '/minecraft:tp ~-16 ~ ~16'
  - '$Script$%PlayerData%$s.init.chunk.x=$locX'
  - '$Script$%PlayerData%$s.init.chunk.x/16'  
  - '$Script$%PlayerData%$s.init.chunk.z=$locZ'
  - '$Script$%PlayerData%$s.init.chunk.z/16'
  - '/mycommand:factory_keepchunk $PlayerData%$s.init.chunk.x% $PlayerData%$s.init.chunk.z% $world'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~5 ~17.5 ~11 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder1"]}'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 21
  - '$Script$%if%$arg1==west<and>$arg2==21'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/21",posX:32,posY:-20,posZ:-13,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/no_parking_in_handicapped_spots'
 
  # 22
  - '$Script$%if%$arg1==west<and>$arg2==22'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/22",posX:-4,posY:-15,posZ:3,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 23
  - '$Script$%if%$arg1==west<and>$arg2==23'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/23",posX:12,posY:-15,posZ:-11,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  # lights
  - '/minecraft:tp ~ ~ ~16'
  - '/minecraft:blockdata ~14 ~13 ~3 {Command:"minecraft:function suboel:factory/lights/top/west_on"}'
  - '/minecraft:tp ~-32 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_on_the_naughty_list'
 
  # 24
  - '$Script$%if%$arg1==west<and>$arg2==24'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/24",posX:-4,posY:-15,posZ:3,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 25
  - '$Script$%if%$arg1==west<and>$arg2==25'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/25",posX:15,posY:-19,posZ:-7,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 26
  - '$Script$%if%$arg1==west<and>$arg2==26'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_first",posX:12,posY:-22,posZ:7,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_second",posX:6,posY:-6,posZ:14,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # tp to factory (upgrade) location
  - '$delay$<20>/multiverse-core:mvtp $player $s.general.world'
  - '/minecraft:tp $player $arg3 $arg4 $arg5'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/26_third",posX:7,posY:-10,posZ:11,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/too_lazy_to_walk'
 
  # 27
  - '$Script$%if%$arg1==west<and>$arg2==27'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/27",posX:-4,posY:-13,posZ:9,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  # replace rails
  - '/minecraft:tp ~-16 ~ ~16'
  - '/minecraft:setblock ~5 ~19 ~11 minecraft:rail shape=east_west'
  # summon area_effect_cloud
  - '/minecraft:summon minecraft:area_effect_cloud ~11 ~17.5 ~11 {Age:-2147483648,CustomName:"sfHopperChain",Duration:2147483647,Particle:"take",Radius:0.001f,Tags:["sfID$arg6","sfOrder2"]}'
  - '/minecraft:tp ~-16 ~ ~-32'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 28
  - '$Script$%if%$arg1==west<and>$arg2==28'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/28",posX:32,posY:-19,posZ:-32,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/keep_the_mexicans_out'
 
  # 29
  - '$Script$%if%$arg1==west<and>$arg2==29'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/29",posX:15,posY:-13,posZ:5,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/save_yourself'
 
  # 30
  - '$Script$%if%$arg1==west<and>$arg2==30'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/30",posX:-4,posY:-13,posZ:3,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
 
  # 31
  - '$Script$%if%$arg1==west<and>$arg2==31'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/31",posX:10,posY:-13,posZ:2,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/youre_off_the_naughty_list'
 
  # 32
  - '$Script$%if%$arg1==west<and>$arg2==32'
  - '/minecraft:tp ~32 ~ ~16'
  - '/minecraft:setblock ~2 ~19 ~13 minecraft:structure_block mode=load replace {ignoreEntities:1b,integrity:1.0f,mirror:"NONE",mode:"LOAD",name:"suboel:factory/upgrade/32",posX:-5,posY:-13,posZ:1,powered:0b,rotation:"CLOCKWISE_90",showboundingbox:0b}'
  - '/minecraft:setblock ~2 ~18 ~13 minecraft:redstone_block default'
  - '/minecraft:fill ~2 ~18 ~13 ~2 ~19 ~13 minecraft:air'
  - '/minecraft:tp ~-32 ~ ~-16'
  # board
  - '/mycommand:factory_board_create $arg1 big'
  # calculate item delay
  - '/mycommand:factory_item_delay_init $arg6 $player $arg2 $s.factory.id.$arg6.product.name $s.factory.id.$arg6.product.damage'
  # "[Factory] The factory was successfully upgraded to level x"
  - '/minecraft:tellraw $player [{"bold":"true","color":"dark_aqua","text":"["},{"bold":"false","color":"white","text":"Factory"},{"bold":"true","color":"dark_aqua","text":"]"},{"bold":"false","color":"gray","text":" The factory was "},{"bold":"false","color":"dark_aqua","text":"successfully"},{"bold":"false","color":"gray","text":" upgraded to level "},{"bold":"false","color":"dark_aqua","text":"$arg2"}]'
  # grant advancement
  - '/minecraft:advancement grant $player only suboel:industry/they_grow_so_fast'
  
  #######################################
  #               always                #
  ####################################### 
  # arg1 = east / north / south / west
  # arg2 = 1 / 2 / 3 / ... / 30 / 31 / 32
  # arg3 = $s.factory.id.x.location.x
  # arg4 = $s.factory.id.x.location.y
  # arg5 = $s.factory.id.x.location.z
  # arg6 = $PlayerData%$s.factory.factory_id.x.id
  - '$Script$%if%always==always'
  - '$Script$%PlayerData%$s.factory.level.$arg2.upgrade=NoData'
    
  # remove web
  - '/minecraft:fill ~ ~ ~ ~ ~1 ~ minecraft:air default replace minecraft:web'
  
  # remove resistance effect
  - '/minecraft:effect $player minecraft:resistance 0'
  - '/minecraft:effect $player minecraft:resistance 1 255 true'
  
  # tp back to origin
  - '/multiverse-core:mvtp $player $PlayerData%$s.init.location.world%'
  - '/minecraft:tp $player $PlayerData%$s.init.location.x% $PlayerData%$s.init.location.y%.5 $PlayerData%$s.init.location.z% $PlayerData%$s.init.location.rotation.yaw% $PlayerData%$s.init.location.rotation.pitch%'